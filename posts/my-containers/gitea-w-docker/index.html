<!DOCTYPE html>
<html lang="es">
  <head>
    <title>Gitea con Docker</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />

<link rel="stylesheet" href="/application.78c17accc3971f53e7a8acee7787db4a3f35430e05c15723cd15ab4869a92768.css" integrity="sha256-eMF6zMOXH1PnqKzud4fbSj81Qw4FwVcjzRWrSGmpJ2g=" />





  

  
  
  
    
  
  

  <link rel="icon" type="image/png" href="/images/site/favicon_hu_6a1c3ff0fc83cff7.png" />

<meta property="og:url" content="https://dzamo.gitlab.io/posts/my-containers/gitea-w-docker/">
  <meta property="og:site_name" content="Sitio en Gitlab Page">
  <meta property="og:title" content="Gitea con Docker">
  <meta property="og:description" content="Esta aplicación contenerizada es el servicio de Gitea implementado y desplegado con CLI Docker Compose, en un host motor Docker.
Para esta configuración se ha consultado principalmente el URL Gitea: Installation with Docker
Tecnologías usadas Sistema operativo: Alma Linux 9. Motor de contenedores: Docker. Gitea. Postgres. Nginx. Supuestos cumplidos Motor de contenedores: Docker Usuario no root en el host anfitrión: &lt;login&gt; &lt;UID&gt; &lt;GID&gt; $PATH del docker-compose.yml y/o extras: &lt;$MY_PATH_COMPOSE_FILES&gt; $PATH appdata: &lt;$PATH_APPDATA&gt; Estructura filesystem &lt;$MY_PATH_COMPOSE_FILES&gt; # Filesystem/estructura y ficheros actuales/iniciales $ tree -a . ├── docker-compose.yml └── .env $ ls -al total 8 drwxr-xr-x. 3 dzamo dzamo 59 Nov 16 01:55 . drwxr-xr-x. 5 dzamo dzamo 74 Nov 16 01:38 .. -rw-r--r--. 1 dzamo dzamo 1527 Nov 16 01:55 docker-compose.yml -rw-r--r--. 1 dzamo dzamo 830 Nov 16 01:53 .env Nota del autor: algunos datos son ofuscados, en caso de utilización revisar/ajustar según corresponda.">
  <meta property="og:locale" content="es">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-14T06:15:45+06:00">
    <meta property="article:modified_time" content="2024-11-14T06:15:45+06:00">

    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Gitea con Docker">
  <meta name="twitter:description" content="Esta aplicación contenerizada es el servicio de Gitea implementado y desplegado con CLI Docker Compose, en un host motor Docker.
Para esta configuración se ha consultado principalmente el URL Gitea: Installation with Docker
Tecnologías usadas Sistema operativo: Alma Linux 9. Motor de contenedores: Docker. Gitea. Postgres. Nginx. Supuestos cumplidos Motor de contenedores: Docker Usuario no root en el host anfitrión: &lt;login&gt; &lt;UID&gt; &lt;GID&gt; $PATH del docker-compose.yml y/o extras: &lt;$MY_PATH_COMPOSE_FILES&gt; $PATH appdata: &lt;$PATH_APPDATA&gt; Estructura filesystem &lt;$MY_PATH_COMPOSE_FILES&gt; # Filesystem/estructura y ficheros actuales/iniciales $ tree -a . ├── docker-compose.yml └── .env $ ls -al total 8 drwxr-xr-x. 3 dzamo dzamo 59 Nov 16 01:55 . drwxr-xr-x. 5 dzamo dzamo 74 Nov 16 01:38 .. -rw-r--r--. 1 dzamo dzamo 1527 Nov 16 01:55 docker-compose.yml -rw-r--r--. 1 dzamo dzamo 830 Nov 16 01:53 .env Nota del autor: algunos datos son ofuscados, en caso de utilización revisar/ajustar según corresponda.">

    
    
<meta name="description" content="Gitea con Docker" />



    




<script>
      theme = localStorage.getItem('theme-scheme') || localStorage.getItem('darkmode:color-scheme') || 'light';
      if (theme == 'system') {
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          theme = 'dark';
        } else {
          theme = 'light';
        }
      }
      document.documentElement.setAttribute('data-theme', theme);
    </script>
  </head>

  <body class="type-posts kind-page" data-bs-spy="scroll" data-bs-target="#TableOfContents" data-bs-offset="80">
    <div class="container-fluid bg-secondary wrapper">
      
      
    















  


  




  
  
    
  
  



  
  
    
  
  










  




  


<nav class="navbar navbar-expand-xl top-navbar shadow " id="top-navbar">
  <div class="container">
    
    <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button">
      <i data-feather="sidebar"></i>
    </button>
    
    <a class="navbar-brand" href="/">
      
        <img src="/images/site/main-logo_hu_c4f90e85c6906288.png" id="logo" alt="Logo">
      Sitio en Gitlab Page</a>
    <button
      class="navbar-toggler navbar-light"
      id="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#top-nav-items"
      aria-label="menu"
    >
      <i data-feather="menu"></i>
    </button>

    <div class="collapse navbar-collapse dynamic-navbar" id="top-nav-items">
      <ul class="nav navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="/#home">Inicio</a>
        </li>
        
          
          
            
              
              
                <li class="nav-item">
                  <a class="nav-link" href="/#about">About</a>
                </li>
              
            
            
              
              
                <li class="nav-item">
                  <a class="nav-link" href="/#skills">Habilidades</a>
                </li>
              
            
            
            
            
            
            
            
              
              
                <li class="nav-item">
                  <a class="nav-link" href="/#recent-posts">Recent Posts</a>
                </li>
              
            
            
            
          
        
        
          <div id="top-navbar-divider"></div>
        
        
          <li class="nav-item">
            <a class="nav-link" id="blog-link" href="/posts">Posts</a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" id="note-link" href="/notes">Notas</a>
          </li>
        
        
        
        
          



  
  


<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle"  href="#" id="themeSelector" role="button"
  data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  <img id="navbar-theme-icon-svg" class="theme-icon" src="/icons/moon-svgrepo-com.svg" width=20 alt="Dark Theme">
</a>
<div id="themeMenu" class="dropdown-menu dropdown-menu-icons-only" aria-labelledby="themeSelector">
  
  
  <a class="dropdown-item nav-link" href="#" data-scheme="dark">
    <img class="theme-icon" src="/icons/moon-svgrepo-com.svg" width=20 alt="Dark Theme">
  </a>
  
  
</div>
</li>

        
      </ul>
    </div>
  </div>
  
  
    <img src="/images/site/main-logo_hu_c4f90e85c6906288.png" class="d-none" id="main-logo" alt="Logo">
  
  
    <img src="/images/site/inverted-logo_hu_6d7d4c4026ba9569.png" class="d-none" id="inverted-logo" alt="Inverted Logo">
  
</nav>



      
      
  <section class="sidebar-section" id="sidebar-section">
    <div class="sidebar-holder">
      <div class="sidebar" id="sidebar">
        <form class="mx-auto" method="get" action="/search">
          <input type="text" name="keyword" value="" placeholder="Búsqueda" data-search="" id="search-box" />
        </form>
        <div class="sidebar-tree">
          <ul class="tree" id="tree">
            <li id="list-heading"><a href="/posts/" data-filter="all">Posts</a></li>
            <div class="subtree">
                
  
  
  
  
  
    
    <li>
      <i data-feather="plus-circle"></i><a class=" list-link" href="/posts/lfs207-english/"> Resumen del LFS207</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class=" list-link" href="/posts/lfs207-english/lfs207-lessons/" title="LFS207 - Lecciones">LFS207 - Lecciones</a></li>
  

  
  
  
  
  
    
    <li><a class=" list-link" href="/posts/lfs207-english/lfs207-fhs/" title="Estándar FHS">Estándar FHS</a></li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li>
      <i data-feather="plus-circle"></i><a class=" list-link" href="/posts/linux-services-tcp_ip/"> Linux servicios TCP/IP</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li>
      <i data-feather="plus-circle"></i><a class=" list-link" href="/posts/linux-services-tcp_ip/nfs/"> NFS</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class=" list-link" href="/posts/linux-services-tcp_ip/nfs/debian-nfs-server/" title="Servidor Debian">Servidor Debian</a></li>
  


      </ul>
    </li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li>
      <i data-feather="plus-circle"></i><a class=" list-link" href="/posts/lfcs-preparation/"> Preparación para LFCS</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class=" list-link" href="/posts/lfcs-preparation/my-study-laboratory/" title="Alma Linux 8 - Lab.">Alma Linux 8 - Lab.</a></li>
  


      </ul>
    </li>
  

  
  
  
  
    
    
  
  
    
    <li>
      <i data-feather="minus-circle"></i><a class="active list-link" href="/posts/my-containers/"> Apps. Contenedores</a>
      
      <ul class="active">
        
  
  
  
  
    
    
  
  
    
    <li><a class="active list-link" href="/posts/my-containers/gitea-w-docker/" title="Gitea con Docker">Gitea con Docker</a></li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li>
      <i data-feather="plus-circle"></i><a class=" list-link" href="/posts/hugo/"> SSG Hugo</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class=" list-link" href="/posts/hugo/archetypes-templates/" title="Hugo - Plantillas Archetypes">Hugo - Plantillas Archetypes</a></li>
  


      </ul>
    </li>
  


            </div>
          </ul>
        </div>
      </div>
    </div>
  </section>


      
      
<section class="content-section" id="content-section">
  <div class="content">
    <div class="container p-0 read-area">
      
      <div class="hero-area col-sm-12" id="hero-area" style='background-image: url(/posts/my-containers/gitea-w-docker/gitea-front.png);'>
      </div>

      
      <div class="page-content">
        
        
        <div class="author-profile ms-auto align-self-lg-center">
          <img class="rounded-circle" src='/images/author/dzamo_hu_9b0e9dc294600b11.jpeg' alt="Author Image">
          <h5 class="author-name">Daniel O. Zamo</h5>
          <p class="text-muted">
          
            jueves, 14 de noviembre de 2024 | 3 minutos
          
          </p>
        </div>
        
        <div class="title">
          <h1>Gitea con Docker</h1>
        </div>
        

        
          <div class="tags">
  <ul style="padding-left: 0;">
    
  </ul>
</div>

        
        <div class="post-content" id="post-content">
          <p>Esta aplicación contenerizada es el servicio de <a href="https://about.gitea.com" target="_blank">Gitea</a> implementado y desplegado con CLI <a href="https://docs.docker.com/compose/" target="_blank">Docker Compose</a>, en un host motor <a href="https://docker.com" target="_blank" rel="noopener noreferrer">Docker</a>.</p>
<blockquote>
<p>Para esta configuración se ha consultado principalmente el URL <a href="https://docs.gitea.com/installation/install-with-docker" target="_blank">Gitea: Installation with Docker</a></p>
</blockquote>
<h3 id="tecnologías-usadas">Tecnologías usadas</h3>
<ul>
<li>Sistema operativo: <a href="https://almalinux.org/" target="_blank">Alma Linux 9</a>.</li>
<li>Motor de contenedores: <a href="https://docker.com" target="_blank" rel="noopener noreferrer">Docker</a>.</li>
<li><a href="https://about.gitea.com" target="_blank">Gitea</a>.</li>
<li><a href="https://www.postgresql.org" target="_blank" rel="noopener noreferrer">Postgres</a>.</li>
<li><a href="https://nginx.org/" target="_blank" rel="noopener noreferrer">Nginx</a>.</li>
</ul>
<h3 id="supuestos-cumplidos">Supuestos cumplidos</h3>
<ul>
<li>Motor de contenedores: Docker</li>
<li>Usuario <code>no root</code> en el host anfitrión:
<ul>
<li><code>&lt;login&gt;</code></li>
<li><code>&lt;UID&gt;</code></li>
<li><code>&lt;GID&gt;</code></li>
</ul>
</li>
<li>$PATH del docker-compose.yml y/o extras: <code>&lt;$MY_PATH_COMPOSE_FILES&gt;</code></li>
<li>$PATH appdata: <code>&lt;$PATH_APPDATA&gt;</code></li>
<li>Estructura filesystem <code>&lt;$MY_PATH_COMPOSE_FILES&gt;</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Filesystem/estructura y ficheros actuales/iniciales</span>
</span></span><span style="display:flex;"><span>$ tree -a
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>├── docker-compose.yml
</span></span><span style="display:flex;"><span>└── .env
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ls -al
</span></span><span style="display:flex;"><span>total <span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#ae81ff">3</span> dzamo dzamo   <span style="color:#ae81ff">59</span> Nov <span style="color:#ae81ff">16</span> 01:55 .
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#ae81ff">5</span> dzamo dzamo   <span style="color:#ae81ff">74</span> Nov <span style="color:#ae81ff">16</span> 01:38 ..
</span></span><span style="display:flex;"><span>-rw-r--r--. <span style="color:#ae81ff">1</span> dzamo dzamo <span style="color:#ae81ff">1527</span> Nov <span style="color:#ae81ff">16</span> 01:55 docker-compose.yml
</span></span><span style="display:flex;"><span>-rw-r--r--. <span style="color:#ae81ff">1</span> dzamo dzamo  <span style="color:#ae81ff">830</span> Nov <span style="color:#ae81ff">16</span> 01:53 .env
</span></span></code></pre></div><p><em>Nota del autor:</em> algunos datos son ofuscados, en caso de utilización revisar/ajustar según corresponda.</p>
<h3 id="env">.env</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>CONTAINER_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gitea-initial&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_IMAGE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gitea/gitea:1.22.3&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_UID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&lt;UID&gt;&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_GID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&lt;GID&gt;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>MY_PATH_APPDATA<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&lt;</span>$MY_PATH_COMPOSE_FILES<span style="color:#e6db74">&gt;/</span><span style="color:#e6db74">${</span>CONTAINER_NAME<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>GITEA_PATH_HOST<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gitea&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_PATH_CONTAINER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/data&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>GITEA_PORT1_HOST<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;...&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_PORT1_CONTAINER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;...&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_PORT2_HOST<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;...&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_PORT2_CONTAINER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;...&#34;</span>
</span></span><span style="display:flex;"><span>IP_LOCALHOST<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;127.0.0.1&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_LOCALHOST_PORT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;...&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_SSH_PATH<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;.config/git/.ssh&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_SSH_PATH_CONTAINER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/data/git/.ssh&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>IMAGE_PG<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;postgres:14&#34;</span>
</span></span><span style="display:flex;"><span>PG_VOL_PATH_HOST<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;postgres&#34;</span>
</span></span><span style="display:flex;"><span>PG_VOL_PATH_CONTAINER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/var/lib/postgresql/data&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>RDBMS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;postgres&#34;</span>
</span></span><span style="display:flex;"><span>SERVICE_DB_HOST<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;...&#34;</span>
</span></span><span style="display:flex;"><span>SERVICE_DB_PORT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;5432&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_DB_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;...&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_DB_USR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;...&#34;</span>
</span></span><span style="display:flex;"><span>GITEA_DB_PWD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;...&#34;</span>
</span></span></code></pre></div><h3 id="docker-composeyml">docker-compose.yml</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>version: <span style="color:#e6db74">&#39;3.9&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>networks:
</span></span><span style="display:flex;"><span>  gitea:
</span></span><span style="display:flex;"><span>    external: false
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>services:
</span></span><span style="display:flex;"><span>  server:
</span></span><span style="display:flex;"><span>    image: $GITEA_IMAGE
</span></span><span style="display:flex;"><span>    container_name: <span style="color:#e6db74">${</span>CONTAINER_NAME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>    environment:
</span></span><span style="display:flex;"><span>      - USER_UID<span style="color:#f92672">=</span>$GITEA_UID
</span></span><span style="display:flex;"><span>      - USER_GID<span style="color:#f92672">=</span>$GITEA_GID
</span></span><span style="display:flex;"><span>      - GITEA__database__DB_TYPE<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>RDBMS<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>      - GITEA__database__HOST<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>SERVICE_DB_HOST<span style="color:#e6db74">}</span>:<span style="color:#e6db74">${</span>SERVICE_DB_PORT<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>      - GITEA__database__NAME<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GITEA_DB_NAME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>      - GITEA__database__USER<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GITEA_DB_USR<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>      - GITEA__database__PASSWD<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GITEA_DB_PWD<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>    restart: always
</span></span><span style="display:flex;"><span>    networks:
</span></span><span style="display:flex;"><span>      - gitea
</span></span><span style="display:flex;"><span>    volumes:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">${</span>MY_PATH_APPDATA<span style="color:#e6db74">}</span>/<span style="color:#e6db74">${</span>GITEA_PATH_HOST<span style="color:#e6db74">}</span>:<span style="color:#e6db74">${</span>GITEA_PATH_CONTAINER<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>      - /etc/timezone:/etc/timezone:ro
</span></span><span style="display:flex;"><span>      - /etc/localtime:/etc/localtime:ro
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">${</span>MY_PATH_APPDATA<span style="color:#e6db74">}</span>/<span style="color:#e6db74">${</span>GITEA_SSH_PATH<span style="color:#e6db74">}</span>/:<span style="color:#e6db74">${</span>GITEA_SSH_PATH_CONTAINER<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>    ports:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GITEA_PORT1_HOST<span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span>GITEA_PORT1_CONTAINER<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GITEA_PORT2_HOST<span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span>GITEA_PORT2_CONTAINER<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>IP_LOCALHOST<span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span>GITEA_LOCALHOST_PORT<span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span>GITEA_PORT2_CONTAINER<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    depends_on:
</span></span><span style="display:flex;"><span>      - db
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  db:
</span></span><span style="display:flex;"><span>    image: <span style="color:#e6db74">${</span>IMAGE_PG<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>    restart: always
</span></span><span style="display:flex;"><span>    environment:
</span></span><span style="display:flex;"><span>      - POSTGRES_DB<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GITEA_DB_NAME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>      - POSTGRES_USER<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GITEA_DB_USR<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>      - POSTGRES_PASSWORD<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GITEA_DB_PWD<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    networks:
</span></span><span style="display:flex;"><span>      - gitea
</span></span><span style="display:flex;"><span>    volumes:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">${</span>MY_PATH_APPDATA<span style="color:#e6db74">}</span>/<span style="color:#e6db74">${</span>PG_VOL_PATH_HOST<span style="color:#e6db74">}</span>:<span style="color:#e6db74">${</span>PG_VOL_PATH_CONTAINER<span style="color:#e6db74">}</span>
</span></span></code></pre></div><h3 id="construir-y-ejecutar-contenedor">Construir y ejecutar contenedor</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose --env-file .env up
</span></span></code></pre></div><h3 id="instalarconfigurar-gitea">Instalar/configurar Gitea</h3>
<p>En el URL <code>https://&lt;IP_O_FQDN&gt;:&lt;$GITEA_PORT1_HOST&gt;</code> instalar/configurar Gitea.</p>
<img src="/posts/my-containers/gitea-w-docker/gitea-install.png"
    
        alt="Gitea - Instalación"
    
    
    
    
    
        class="center"
    
>

<h4 id="registrar-usuario">Registrar usuario</h4>
<p>Una vez instalado <a href="https://about.gitea.com" target="_blank">Gitea</a> queda disponible, en la siguiente captura se muestra donde registrar un primer usuario.</p>
<img src="/posts/my-containers/gitea-w-docker/gitea-user-register.png"
    
        alt="Gitea - registrar usuario"
    
    
    
    
    
        class="center"
    
>

<h4 id="copiar-clave">Copiar clave</h4>
<ul>
<li>Configuraciones del usuario</li>
</ul>
<img src="/posts/my-containers/gitea-w-docker/gitea-signed-user-settings.png"
    
        alt="Gitea - usuario configuraciones"
    
    
    
    
    
        class="center"
    
>

<ul>
<li>Copiar clave pública</li>
</ul>
<img src="/posts/my-containers/gitea-w-docker/gitea-signed-user-settings-add-key.png"
    
        alt="Gitea - copiar clave pública"
    
    
    
    
    
        class="center"
    
>

<h4 id="crear-repositorioverificar">Crear repositorio/verificar</h4>
<p>En este item se:</p>
<ul>
<li>El usuario autenticado crea un repositorio <em>repo1</em>.</li>
<li>Desde un host remoto se ejecuta <code>git clone</code> de dicho repositorio, conectandose por ssh.</li>
<li>El usuario crea un fichero (<code>README.md</code>), lo agrega en su area de stage y repositorio local, y lo envia al repositorio remoto.</li>
</ul>
<p>La secuencia de trabajo se muestra en la siguiente captura. Esta es:</p>
<img src="/posts/my-containers/gitea-w-docker/gitea-crear-y-verificar-repo.png"
    
        alt="Gitea - crear y modificar ficheros en repositorio"
    
    
    
    
    
        class="center"
    
>

<br>
<p><strong><em>Nota importante:</em></strong> Observar en la captura que:</p>
<ul>
<li><strong>2</strong> del lado del servidor de Gitea el URL del repositorio es: <code>SSH:</code> &ndash;&gt; <code>git@almalinux9-docker:dzamo/repo1.git</code></li>
<li><strong>8</strong> del lado del Desktop (host cliente que se conecta) ejecuta el <code>git clone</code> como <code>git clone ssh://git@almalinux9:&lt;PORT_SSH_EXPUESTO&gt;/dzamo/repo1.git</code></li>
</ul>
<p>Lo anterior es porque debemos aún de configurar <strong>Gitea</strong> para que válide correctamente las conexiones y/o autenticaciones que vía ssh el host de Docker debe redirigir al contenedor de Gitea, esto se deja para la implementación de la próxima versión del contenedor.</p>
<p><em>Nota extra:</em> el <code>&lt;PORT_SSH_EXPUESTO&gt;</code> es el <code>$GITEA_PORT2_HOST</code> inicializado en el <code>.env</code> inicial, este es el puerto expuesto por el host anfitrión de Docker, recuerde de ajustar según corresponda.</p>

        </div>

        
        <div class="row ps-3 pe-3">
        
          <div class="col-md-6 share-buttons">
          
            <strong>Compartir en:</strong>
            
            
            
            
            
            
                <a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fdzamo.gitlab.io%2fposts%2fmy-containers%2fgitea-w-docker%2f&title=Gitea%20con%20Docker" target="_blank">
                  <i class="fab fa-linkedin"></i>
                </a>
            
            
             
            
            
                <a class="btn icon-button" href="mailto:?subject=Gitea%20con%20Docker&body=https%3a%2f%2fdzamo.gitlab.io%2fposts%2fmy-containers%2fgitea-w-docker%2f" target="_blank">
                  <i class="fas fa-envelope-open-text"></i>
                </a>
            
          
          </div>

        
        
          
            
          
          <div class="col-md-6 btn-improve-page">
             
               <a href="https://gitlab.com/dzamo/dzamo.github.io/edit/main/content/posts/my-containers/gitea-w-docker/index.es.md" title="Mejorar esta página" target="_blank" rel="noopener">
            
                <i class="fas fa-code-branch"></i>
                Mejorar esta página
              </a>
          </div>
        
        </div>



      
      <hr />
        







  





  
  

  
  

  
  

  
  

  
    
    
  
  

  
  


<div class="row next-prev-navigator">
  
    <div class="col-md-6 previous-article">
      <a href="/posts/lfcs-preparation/my-study-laboratory/" title="Lab. de estudio" class="btn filled-button">
        <div><i class="fas fa-chevron-circle-left"></i> Anterior</div>
        <div class="next-prev-text">Lab. de estudio</div>
      </a>
    </div>
  
  
      
      
        
      
      <div class="col-md-6 next-article">
        <a href="/posts/hugo/archetypes-templates/" title="Archetypes en Hugo" class="btn filled-button">
          <div>Siguiente <i class="fas fa-chevron-circle-right"></i></div>
          <div class="next-prev-text">Archetypes en Hugo</div>
        </a>
      </div>
    
</div>

      <hr />

      
      

      
      

      </div>
    </div>
  </div>
  
  <a id="scroll-to-top" class="btn" type="button" data-bs-toggle="tooltip" data-bs-placement="left" title="Scroll to top">
    <i class="fas fa-chevron-circle-up"></i>
  </a>
</section>


      
      
  <section class="toc-section" id="toc-section">
    
    <div class="toc-holder">
      <h5 class="text-center ps-3">Contenido</h5>
      <hr>
      <div class="toc">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#tecnologías-usadas">Tecnologías usadas</a></li>
        <li><a href="#supuestos-cumplidos">Supuestos cumplidos</a></li>
        <li><a href="#env">.env</a></li>
        <li><a href="#docker-composeyml">docker-compose.yml</a></li>
        <li><a href="#construir-y-ejecutar-contenedor">Construir y ejecutar contenedor</a></li>
        <li><a href="#instalarconfigurar-gitea">Instalar/configurar Gitea</a>
          <ul>
            <li><a href="#registrar-usuario">Registrar usuario</a></li>
            <li><a href="#copiar-clave">Copiar clave</a></li>
            <li><a href="#crear-repositorioverificar">Crear repositorio/verificar</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    </div>
    
  </section>

    </div>

    
    












  
  
    
  

  
  
    
  

  
  

  
  
    
    
      
    
  


  
  
  
    
  

  
  
  

  
  
  
    
  
  

  
  
  

  <footer id="footer" class="container-fluid text-center align-content-center footer pb-2">
    <div class="container pt-5">
      <div class="row text-start">
        
        <div class="col-md-4 col-sm-12">
          <h5>Navegación</h5>
          
          <ul>
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://dzamo.gitlab.io/#about">About</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://dzamo.gitlab.io/#skills">Habilidades</a>
                </li>
              
              
              
              
              
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://dzamo.gitlab.io/#recent-posts">Recent Posts</a>
                </li>
              
              
              
            
              
            
          </ul>
          
        </div>
        
        
        
        
      </div>
    </div>
    
    <hr />
    <div class="container">
      <p id="disclaimer"><strong>Aviso de responsabilidad:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p>
    </div>
    
    
  </footer>


    <script src="/application.f4116df446f9b41d6ac3d9db2023819e5c808d144a1703857de34b2e606c4c9b.js" integrity="sha256-9BFt9Eb5tB1qw9nbICOBnlyAjRRKFwOFfeNLLmBsTJs=" defer></script>


    
     

    
</body>
</html>
