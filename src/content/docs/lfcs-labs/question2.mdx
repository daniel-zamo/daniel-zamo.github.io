---
title: "Question 2"
description: "CrontJobs"
sidebar:
  label: "Q2 - CrontJobs"
  order: 15
---

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';

## Question

<Aside type="note" title="Task Requirements | CrontJobs">

On server `data-001`, user `asset-manager` is responsible for timed operations on existing data. Some changes and additions are necessary.

Currently there is one system-wide cronjob configured that runs every day at 8:30pm. Convert it from being a system-wide cronjob to one owned and executed by user asset-manager. This means that user should see it when running `crontab -l`.

Create a new cronjob owned and executed by user asset-manager that runs `bash /home/asset-manager/clean.sh` every week on Monday and Thursday at 11:15am.

ℹ️ You can connect to servers using ssh, for example ssh data-001
</Aside>

### Answer

<details>
<summary>Click to expand</summary>

**Disable system-wide cronjob**

```bash
# Move crontab to user asset-manager
$ ssh data-001
$ whoami
$ cat /etc/crontab
$ vim /etc/crontab
# /etc/crontab: system-wide crontab
# ...
# Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name command to be executed
17 *    * * *   root    cd / && run-parts --report /etc/cron.hourly
25 6    * * *   root    test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.daily )
47 6    * * 7   root    test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.weekly )
52 6    1 * *   root    test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.monthly )
#
#30 20   * * *   root    bash /home/asset-manager/generate.sh  # <-- disable this job
```

**Add cronjob to user**

```bash
$ su - asset-manager
$ crontab -l
## Add to crontjob
$ crontab -e
...
30 20 * * * bash /home/asset-manager/generate.sh
15 11 * * 1,4 bash /home/asset-manager/clean.sh
# check crontab
$ crontab -l
```

</details>